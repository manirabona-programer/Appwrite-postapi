function y(t,e,s,i,n,a,c,r){var l=typeof t=="function"?t.options:t;e&&(l.render=e,l.staticRenderFns=s,l._compiled=!0),i&&(l.functional=!0),a&&(l._scopeId="data-v-"+a);var u;if(c?(u=function(d){d=d||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!d&&typeof __VUE_SSR_CONTEXT__<"u"&&(d=__VUE_SSR_CONTEXT__),n&&n.call(this,d),d&&d._registeredComponents&&d._registeredComponents.add(c)},l._ssrRegister=u):n&&(u=r?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),u)if(l.functional){l._injectStyles=u;var g=l.render;l.render=function(d,f){return u.call(f),g(d,f)}}else{var p=l.beforeCreate;l.beforeCreate=p?[].concat(p,u):[u]}return{exports:t,options:l}}const o={quote:/("(?:\\"|[^"])*")|('(?:\\'|[^'])*')/,comment:/(\/\/.*?(?:\n|$)|\/\*.*?(?:\*\/|$))/,doctype:/(&lt;\!DOCTYPE.*?&gt;)/,htmlTag:/&lt;(?:([a-z][\w\d-]*)((?:[\w\d\- ]+=(?:"[^"]*"|'[^']*'))*|(?:(?!&(?:lt|amp);).)*?)(\s*\/?)|(\/?)([a-z][\w\d-]*))&gt;/,htmlentity:/(&amp;(?:[a-z]+|#x?\d+);)/,punctuation:new RegExp("(!==?|(?:[[\\](){}.:,+\\-?=!])+|(?<!&(?:[a-z]+|#x?\\d+));|\\|\\||&lt;|&gt;|&amp;)"),number:/(-?(?:\.\d+|\d+(?:\.\d+)?))/,boolean:/\b(true|false)\b/},h={shell:{quote:o.quote,comment:/(#.*?)(?:\n|$)/,keyword:/\b(p?npm|yarn|i(?:nstall)?|run|audit|outdated|update|publish|whoami|cd|sudo|chmod|chown|ls|cat|vim?|scp|rm|mv|mkdir|ln|open|cwd|which|clear|curl|ping|systemctl|echo|export|open|bash|exit)\b/,param:/( --(?:save|save-dev))(?:\s|$)/},xml:{doctype:o.doctype,quote:o.quote,comment:/(&lt;!--.*?(?:--&gt;|$))/,htmlentity:o.htmlentity,tag:o.htmlTag},html:{doctype:o.doctype,quote:o.quote,comment:/(&lt;!--.*?(?:--&gt;|$))/,htmlentity:o.htmlentity,tag:o.htmlTag},"html-vue":{doctype:o.doctype,quote:o.quote,comment:/(&lt;!--.*?(?:--&gt;|$))/,htmlentity:o.htmlentity,tag:o.htmlTag},pug:{text:/((?:^|\n)[ \t]*|^)\|([ \t]*)([^\n]+(?=\s*(?:\n|$)))/,text2:/([ \t]*)([.#\-\w\d]+(?:\([^)]*\))*)\.\n((?:\n+(?=\4[ \t]+)|(?=\4[ \t]+).+?(?:\n|$)*?)*)(?=\s*(?:\n|$))/,quote:o.quote,comment:/(^|\n)([ \t]*|^)(\/\/-[ \t]*(?:[^\n]*?(?:\n\10[ \t]+[^\n]*)+|[^\n]+(?=\n|$)))/,tag:/([a-z][\w\d-]*|)([.#][a-z][-.\w\d]*|)\b(?:\(((?:[\w\d\- ]+=(?:"[^"]*"|'[^']*'))*|(?:(?!&(?:lt|amp);).)*?)\))?(\.?)([ \t]*)([^\n]+)?(?=\n|$)/,"inline-tag":/#\[([^\[\]]+)\]/},css:{comment:/(\/\*.+?(?:\*\/|$))/,quote:/("(?:\\"|[^"])*")|('(?:\\'|[^'])*')/,pseudo:/(:(?:hover|active|focus|visited|not|before|after|(?:first|last|nth)-child))/,"selector keyword vendor":/(@-(?:moz|o|webkit|ms)-(?=keyframes\s))/,"selector keyword":/((?:@(?:import|media|font-face|keyframes)|screen|print|and)(?=[\s({])|keyframes|\s(?:ul|ol|li|table|div|pre|p|a|img|br|hr|h[1-6]|em|strong|span|html|body|iframe|video|audio|input|button|form|label|fieldset|small|abbr|i|dd|dt)\b)(?=.*\{})/,variable:/(--[a-z0-9\-]+)/,selector:/((?:[.#-\w*+ >:,[\]="~\n]|&gt;)+)(?=\s*\{)/,"attribute keyword vendor":/(-(?:moz|o|webkit|ms)-(?=transform|transition|user-select|tap-highlight-color|animation|background-size|box-shadow))/,"attribute keyword":/\b(content|float|display|position|top|left|right|bottom|(?:(?:max|min)-)?width|(?:(?:max|min|line)-)?height|font(?:-(?:family|style|size|weight|variant|stretch))?|vertical-align|color|opacity|visibility|z-index|pointer-events|user-select|transform(?:-(?:origin|style|delay|duration|property|timing-function))?|transition(?:-(?:delay|duration))?|animation(?:-(?:name|delay|duration|direction|fill-mode))?|backface-visibility|backdrop-filter|background(?:-(?:color|position|image|repeat|size|attachment|origin|clip|blend-mode))?|(?:padding|margin|border)(?:-(?:top|left|right|bottom))?|border(?:-(?:radius|color|width|style|spacing))|white-space|text-(?:align|transform|decoration|shadow|indent)|overflow(?:-(?:x|y))?|(?:letter|word)-spacing|word-break|box-(?:sizing|shadow)|stroke(?:-(?:width|opacity|dasharray|dashoffset|linecap|linejoin))?|fill|speak|outline|user-select|cursor|flex(?:-(?:direction|flow|grow|shrink|basis|wrap))?|(?:justify|align)-(?:content|self|items))(?=\s*:)/,"value keyword vendor":/(-(?:moz|o|webkit|ms)-(?=linear-gradient))/,"value keyword":/\b(inherit|initial|normal|none|unset|auto|inline(?:-(?:block|flex))?|block|flex|absolute|relative|static|fixed|sticky|hidden|visible|top|left|right|bottom|center|middle|baseline|solid|dotted|dashed|line-through|(?:over|under)line|wavy|double|(?:pre-|no)?wrap|pre|break-word|(?:upper|lower)case|capitalize|italic|bold|attr\(.*?\)|linear|ease(?:-in)?(?:-out)?|all|infinite|cubic-bezier|(?:translate|rotate)(?:[X-Z]|3d)?|skew[XY]?|scale|(?:no-)?repeat|repeat(?:-x|-y)|contain|cover|url|(?:repeating-)?(?:linear|radial)-gradient|inset|pointer|(?:flex-)?(?:start|end)|space-(?:between|evenly|around)|stretch|revert|row(?:-reverse)?|column(?:-reverse)?)(?=\s*[,;}(]|\s+[\da-z!])/,"value keyword important":/( ?!important)/,number:o.number,color:/(transparent|#(?:[\da-f]{6}|[\da-f]{3})|rgba?\([\d., ]*\))/,htmlentity:o.htmlentity,punctuation:/([:,;{}@#()!]+)/,attribute:/([a-z-]+)(?=\s*:)/,unit:/(px|pt|cm|%|r?em|m?s|deg|vh|vw|vmin|vmax)(?=(?:\s*[;,{}})]|\s+[-\da-z#]))/,error:/([:,;{}@#()!]+|&lt;|&gt;|&amp;)/},json:{quote:/("(?:\\"|[^"])*")/,number:o.number,boolean:o.boolean,punctuation:/([[\](){}:,]+)/,error:/(&(:?lt|gt|amp);|(?!\s).)/},js:{quote:o.quote,comment:o.comment,number:/\b(\d+(?:\.\d+)?|null)\b/,boolean:o.boolean,this:/\b(this)(?=\W)/,keyword:/\b(new|getElementsBy(?:Tag|Class|)Name|getElementById|querySelector|querySelectorAll|arguments|if|else|do|return|case|default|(?:f|F)unction|typeof|instanceof|undefined|document(?:Element)?|window|console|while|for|forEach|switch|in|break|continue|delete|length|var|let|const|export|import|as|require|from|Class|constructor|Number|Boolean|String|Array|Object|RegExp|Integer|Date|Promise|Proxy|WeakMap|WeakSet|Symbol|SyncManager|File(?:Reader)?|DataTransfer|DocumentFragment|async|await|(?:clear|set)(?:Timeout|Interval)|parse(?:Int|Float)|Math(?=\.)|isNaN|atob|btoa|getComputedStyle)(?=\W)/,htmlentity:o.htmlentity,punctuation:/(!==?|[[\]!(){}:;,+\-%*/?=]+|\.+(?![a-z])|\|\||&lt;|&gt;|&amp;)/,variable:/(\.?[a-z_][\w\d]*)/,"external-var":/(\$|jQuery|JSON)(?=\W|$)/},php:{quote:o.quote,comment:o.comment,special:/(&lt;\?(?:php)?|\?&gt;|__(?:DIR|FILE|LINE|CLASS|METHOD|FUNCTION|NAMESPACE|TRAIT)__)/,punctuation:o.punctuation,number:o.number,boolean:o.boolean,variable:/(\$[\w\d_]+)/,keyword:/\b(define|echo|die|exit|print_r|var_dump|if|else|elseif|do|return|case|default|function|\$this|while|foreach|for|switch|in|break|continue|empty|isset|unset|parse_ini_file|session_(?:start|destroy|id)|header|json_(?:encode|decode)|error_log|(require|include)(:?_once)?|try|throw|new|Exception|catch|finally|preg_(?:match|replace)|list|strlen|substr|str_replace|array_(?:keys|values))(?=\W|$)/},sql:{quote:o.quote,comment:/((?:\-\-|#)\s.*?(?:\n|$)|\/\*.*?\*\/)/,punctuation:o.punctuation,number:/\b(\d+(?:\.\d+)?|null)\b/,boolean:o.boolean,keyword:/\b(\*|DECLARE|BEGIN|END|RETURNS|FUNCTION|CREATE|DATABASE|TABLE|VIEW|COLUMN|INDEX|GRANT|REVOKE|ALL|PRIVILEGES|IDENTIFIED|FLUSH|ALTER|MODIFY|DROP|TRUNCATE|CONSTRAINT|ADD|CHECK|(?:(?:PRIMARY|FOREIGN|UNIQUE) )?KEY|REFERENCES|AUTO_INCREMENT|COMMENT|DEFAULT|UNSIGNED|CHARSET|COLLATE|CHARACTER|ENGINE|SQL_MODE|USE|IF|THEN|NULL|EXISTS|UNIQUE|SELECT|UPDATE|DELETE|(?:INSERT|REPLACE)(?: INTO)?|VALUES|SET|FROM|WHERE|(?:ORDER|GROUP) BY|LIMIT|(?:(?:LEFT|RIGHT|INNER|OUTER|CROSS) |)JOIN|AS|ON|COUNT|AVG|SUM|MIN|MAX|CASE|TO|WHEN|BETWEEN|AND|OR|NOT|IN|LIKE|IS|CONCAT|SUBSTRING|CURRENT_(?:DATE|TIMESTAMP)|USING|HAVING?)(?=\W|$)/,"var-type":/\b((?:var)?char|(?:tiny|small|medium|big)?int|decimal|float|double|real|bit|boolean|date(?:time)?|time(?:stamp)?|year|(?:tiny|medium|long)?(?:text|blob)|enum)\b/}},b={xml:/(\s*)([a-z\d\-:]+)(?:=("|')(.*?)\3)?/g,html:/(\s*)([a-z-]+)(?:=("|')(.*?)\3)?/g,"html-vue":/(\s*)([@:#]?[a-z\d-]+)(?:(?:=("|')(.*?)\3)|)/g,pug:/(\s*|,)([@:#]?[a-z\d-]+)(?:(?:=("|')(.*?)\3)|)/g},E={shell:{quote:2},xml:{quote:2,tag:5},html:{quote:2,tag:5},"html-vue":{quote:2,tag:5},pug:{text:3,text2:3,quote:2,comment:3,tag:6},json:{},php:{quote:2},sql:{quote:2},css:{quote:2},js:{quote:2}},m=t=>t.map(e=>{if(!e.text||typeof e.text=="string")return e.text||"";if(Array.isArray(e.text))return m(e.text);if(e.text.default)return m(e.text.default)}).join(""),x={name:"sshpre",props:{language:{type:String,default:""},label:{type:[String,Boolean],default:!1},tab:{type:[Boolean,String],default:"  "},dark:{type:Boolean,default:!1},copyButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1}},data:()=>({knownLanguages:Object.keys(h),content:"",slotTexts:""}),methods:{htmlize(t){return t.replace(/&(lt|gt|amp);/g,(e,s)=>({lt:"<",gt:">",amp:"&"})[s])},unhtmlize(t){return t.replace(/[<>]/g,e=>({"<":"&lt;",">":"&gt;"})[e])},isColorDark(t){let e,s,i,n,a,c;if(e=t.match(/rgba?\((.*),\s*(.*),\s*(.*?)(?:,\s*([^)]*))\)/))i=parseInt(e[1])<=100,n=parseInt(e[2])<=100,a=parseInt(e[3])<=100,c=parseFloat(e[4])<.3;else if(s=t.match(/#([\da-f]{3}(?:[\da-f]{3})?)/)){const r=s[1].length===3;i=parseInt(s[1][0])<=9,n=parseInt(s[1][r?1:2])<=9,a=parseInt(s[1][r?2:4])<=9}return(i&&n&&a||i&&n&&!a||!i&&n&&a)&&!c},createRegexPattern(){let t="";const e=[];for(const s in h[this.language]){const i=E[this.language][s]||1;for(let n=0;n<i;n++)e.push(s);t+=(t?"|":"")+h[this.language][s].source}return[t,e]},syntaxHighlightHtmlTag(t){const e=(s,i,n,a,c)=>`${i}<span class="attribute">${n}</span>`+(a||c?'<span class="punctuation">=</span>':"")+(a||c?`<span class="quote">${a||""}${c||""}${a||""}</span>`:"");if(this.language==="pug"){let[s,i="",n="",a="",c="",r=""]=t;return i=i.replace(/#[a-z\d-]+/g,l=>`<span class="id">${l}</span>`).replace(/\.[a-z\d-]+/g,l=>`<span class="class">${l}</span>`),n&&(n=n.replace(b.pug,e),n='<span class="punctuation">(</span>'+n+'<span class="punctuation">)</span>'),r&&(r=this.highlightPugInlineTag(r)),`<span class="tag-name">${s}</span>${i}${n}`+(a?'<span class="punctuation">.</span>':"")+(c||"")+(r?`<span class="text">${r}</span>`:"")}else{const[s,i="",n="",a="",c]=t,r=i.replace(b[this.language],e);return`<span class="punctuation">&lt;${a}</span><span class="tag-name">${s||c}</span>`+r+`<span class="punctuation">${n}&gt;</span>`}},highlightPugInlineTag(t){return t.replace(new RegExp(h.pug["inline-tag"],"gsi"),(e,s)=>'<span class="inline-tag">#[</span>'+s.replace(new RegExp(h.pug.tag,"si"),(i,...n)=>(n=n.slice(0,n.length-2),this.syntaxHighlightHtmlTag(n)))+'<span class="inline-tag">]</span>')},highlightInPre(){if(this.knownLanguages.includes(this.language)){const t=this.getCaretPositionInPlainText();this.$refs.code.innerHTML=this.syntaxHighlightContent(this.$refs.code.innerText),this.reinjectCaret(this.$refs.code.childNodes,t)}},getCaretPositionInPlainText(){const t=window.getSelection();t.collapseToEnd();const e=new Range;return e.setStart(this.$refs.code,0),e.setEnd(t.extentNode,t.extentOffset),e.toString().length},reinjectCaret(t,e){var s,i;let n=0;for(const a of t){const c=((s=a.innerText)==null?void 0:s.length)||a.length;if(n+c>=e){a.childNodes.length>1?this.reinjectCaret(a.childNodes,e-n):document.getSelection().setPosition(((i=a.childNodes)==null?void 0:i[0])||a,e-n);break}n+=c}},onKeydown(t){switch(t.which){case 9:this.injectAtCaret(this.tab),t.preventDefault();break;case 13:this.injectAtCaret(`
`),t.preventDefault();break}},injectAtCaret(t){const e=window.getSelection(),s=e.getRangeAt(0),i=document.createTextNode(t);s.insertNode(i),e.collapseToEnd()},syntaxHighlightContent(t){if(!this.knownLanguages.includes(this.language))return t;const[e,s]=this.createRegexPattern();return this.unhtmlize(t.replace(/&/g,"&amp;")).replace(new RegExp(e,"gsi"),(i,...n)=>{n=n.slice(0,n.length-2);let a;const c=this.language==="pug";let r=n.find((u,g)=>u&&(a=s[g])&&u);if(["punctuation","quote","htmlentity"].includes(a))r=this.unhtmlize(r);else if(a==="comment")if(c){const[u,g,p]=n.slice(s.indexOf("comment"));r=`${u}${g}${this.unhtmlize(p)}`}else r=this.unhtmlize(r);else if(a==="text"&&c){let[u,g,p]=n;return p=this.highlightPugInlineTag(p),`${u}<span class="punctuation">|</span>${g}<span class="text">${p}</span>`}else if(a==="text2"&&c){const[,,,u,g,p]=n,d=this.syntaxHighlightContent(g);return`${u}${d}<span class="punctuation">.</span>
<span class="text">${p}</span>`}else{if(a==="tag"&&["xml","html","html-vue","pug"].includes(this.language))return this.syntaxHighlightHtmlTag(n.slice(s.indexOf("tag")));if(a==="variable"&&r[0]==="."&&this.language==="js")return`<span class="punctuation">.</span><span class="obj-attr">${r.substr(1)}</span>`}let l="";return a==="color"&&this.language==="css"&&(l=` style="background-color: ${r};color: #${this.isColorDark(r)?"fff":"000"}"`),a&&`<span class="${a}"${l}>${r}</span>`||""})},getSlotContent(){return this.$slots.default&&m(this.$slots.default)||""},copyCode(t){t.target.insertAdjacentHTML("afterend",`<textarea id="clipboard-textarea">${this.$refs.code.innerText}</textarea>`);const e=document.getElementById("clipboard-textarea");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy"),e.remove(),this.$emit("copied",this.$refs.code.innerText)}},mounted(){const t=this.getSlotContent();this.$refs.code.innerText=t,this.$refs.code.innerHTML=this.syntaxHighlightContent(this.$refs.code.innerText)},beforeUpdate(){this.$refs.code.innerHTML=this.syntaxHighlightContent(this.getSlotContent())}};var T=function(){var t=this,e=t._self._c;return e("div",{staticClass:"ssh-pre",class:{"ssh-pre--dark":t.dark},attrs:{"data-type":t.language,"data-label":t.label||null}},[t.copyButton?e("button",{staticClass:"ssh-pre__copy",on:{click:t.copyCode}},[t._t("copy-button",function(){return[t._v("Copy")]})],2):t._e(),t._v(" "),e("pre",{ref:"code",staticClass:"ssh-pre__content",attrs:{contenteditable:t.editable?"true":"false"},on:{keydown:function(s){t.editable&&t.onKeydown(s)},input:t.highlightInPre}},[t._v("    ")]),t._v(" "),e("div",{staticClass:"ssh-pre__original"},[t._t("default")],2)])},w=[],v=y(x,T,w,!1,null,null,null,null);const $=v.exports;export{$ as default};
